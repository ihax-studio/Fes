<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#000000">
<title>田中2E 生徒会長選挙</title>
<style>
/* Basic setup */
*, *::before, *::after {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
}

html, body {
    height: 100%;
    overflow: hidden;
    background: #000000;
    font-family: "SF Pro Display", "SF Pro Text", "San Francisco", -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, "Hiragino Sans", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    touch-action: manipulation;
}

/* Container for the "Thanks" screen */
#thanks-overlay {
    position: fixed;
    inset: 0;
    z-index: 2500;
    background: #000000;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 24px;
    opacity: 1;
    visibility: visible;
    transition: opacity 0.8s cubic-bezier(.62,0,.4,1);
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

#thanks-overlay.fade-out {
    opacity: 0;
    pointer-events: none;
}

/* Circle element */
#thanks-circle {
    width: 180px;
    height: 180px;
    border: 3px solid rgba(255,255,255,.9);
    border-radius: 9999px;
    box-shadow: 0 0 20px rgba(255,255,255,.35), 0 0 50px rgba(255,255,255,.15) inset;
    display: grid;
    place-items: center;
    animation: circle-pop .7s cubic-bezier(.2,1,.3,1) both;
    position: relative;
    overflow: visible;
}

 @keyframes circle-pop {
    0% { transform: scale(.6); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

#thanks-arrow {
    font-weight: 400;
    font-size: 72px;
    line-height: 1;
    color: #fff;
    position: relative;
    z-index: 2;
    transition: opacity 0.3s ease;
}

#thanks-ring {
    position: absolute;
    inset: 0;
    margin: auto;
    width: 180px;
    height: 180px;
    border-radius: 9999px;
    border: 3px solid rgba(255,255,255,.9);
    box-shadow: 0 0 18px rgba(255,255,255,.35);
    z-index: 1;
    opacity: 0;
    transform: scale(1);
}

.ring-anim {
    animation: ring-expand 1.2s cubic-bezier(.2,1,.3,1) forwards;
}

 @keyframes ring-expand {
    0% { opacity: 1; transform: scale(1); }
    100% { opacity: 0; transform: scale(3); }
}

#thanks-text {
    font-size: 32px;
    font-weight: 700;
    color: #fff;
    letter-spacing: .02em;
    text-shadow: 0 5px 18px rgba(0,0,0,.55);
}

#thanks-sub {
    font-size: 16px;
    color: #cfcfcf;
}

#thanks-dots {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
    z-index: 2550;
}

.dot {
    position: absolute;
    border-radius: 9999px;
    background: #fff;
    opacity: 0;
    animation: dot-pop 1.6s cubic-bezier(.25,.46,.45,.94) forwards;
    box-shadow: 0 2px 8px rgba(0,0,0,.3);
}

 @keyframes dot-pop {
    0% { opacity: 0; transform: translate(-50%,-50%) scale(.3); }
    10% { opacity: 1; }
    100% { opacity: 0; transform: translate(var(--tx),var(--ty)) scale(1); }
}
</style>
</head>
<body>

<!-- Thanks/Dots screen -->
<div id="thanks-overlay">
    <div id="thanks-circle">
        <div id="thanks-ring"></div>
        <div id="thanks-arrow">↑</div>
    </div>
    <div id="thanks-text">ありがとう。</div>
    <div id="thanks-sub">Tanaka Campaign 2025</div>
    <div id="thanks-dots"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const thanksDots = document.getElementById('thanks-dots');
    const thanksRing = document.getElementById('thanks-ring');
    const thanksOverlay = document.getElementById('thanks-overlay');

    // Spawn dots animation
    function spawnThanksDots(n = 250) {
        if (!thanksDots) return;
        
        const W = window.innerWidth;
        const H = window.innerHeight;
        thanksDots.innerHTML = '';

        for (let i = 0; i < n; i++) {
            const dot = document.createElement('div');
            dot.className = 'dot';

            const size = Math.random() < 0.8 
                ? (Math.random() * 3 + 2) 
                : (Math.random() * 6 + 4);

            const centerX = W / 2;
            const centerY = H / 2;
            const startX = centerX + (Math.random() * 160 - 80);
            const startY = centerY + (Math.random() * 160 - 80);

            const angle = Math.random() * Math.PI * 2;
            const distance = 120 + Math.random() * Math.max(W, H) * 0.6;
            const endX = Math.cos(angle) * distance;
            const endY = Math.sin(angle) * distance;

            dot.style.width = `${size}px`;
            dot.style.height = `${size}px`;
            dot.style.left = `${startX}px`;
            dot.style.top = `${startY}px`;
            dot.style.setProperty('--tx', `${endX}px`);
            dot.style.setProperty('--ty', `${endY}px`);
            dot.style.animationDelay = `${Math.random() * 0.25}s`;
            
            thanksDots.appendChild(dot);
        }
    }

    // Sequence 1: Initial animation
    spawnThanksDots(250);

    if (thanksRing) {
        setTimeout(() => {
            thanksRing.classList.add('ring-anim');
        }, 700);
    }

    // Sequence 2: Auto transition out after delay
    setTimeout(() => {
        if (thanksOverlay) {
            thanksOverlay.classList.add('fade-out');
        }
    }, 2500);
});
</script>

</body>
</html>
